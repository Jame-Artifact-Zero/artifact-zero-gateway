{% extends "base.html" %}
{% block title %}NTI Result â€” Artifact Zero{% endblock %}
{% block body_class %}page-result{% endblock %}

{% block head %}
<style>
.az-result{max-width:640px;margin:60px auto 40px;padding:0 20px}
.az-result-nav{display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}
.az-result-nav a{font-size:13px;color:var(--muted);text-decoration:none}
.az-result-nav a:hover{color:var(--accent)}
.az-result-nav .rid{font-family:var(--az-mono);font-size:10px;color:var(--muted);letter-spacing:1px}
.az-result h1{font-size:22px;font-weight:700;margin-bottom:8px}
.az-result-meta{font-size:13px;color:var(--muted);margin-bottom:20px}
.az-result-meta strong{color:var(--text);font-weight:600}
.az-email-status{background:var(--surface);border:1px solid var(--border);border-radius:8px;padding:12px 16px;font-size:13px;margin-bottom:20px}
.az-email-ok{color:var(--accent)}
.az-email-fail{color:var(--red)}
.az-result-actions{display:flex;gap:8px;margin-bottom:20px;flex-wrap:wrap}
.az-btn-p{padding:10px 18px;background:var(--accent);color:#0a0c10;border:none;border-radius:8px;font-size:13px;font-weight:700;cursor:pointer;font-family:var(--az-sans);transition:background .15s;text-decoration:none;display:inline-block}
.az-btn-p:hover{background:#00d48c}
.az-btn-g{padding:10px 18px;background:var(--surface2);color:var(--muted);border:1px solid var(--border);border-radius:8px;font-size:13px;font-weight:600;cursor:pointer;font-family:var(--az-sans);transition:all .15s;text-decoration:none;display:inline-block}
.az-btn-g:hover{color:var(--accent);border-color:var(--accent)}
.az-output-box{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:20px;margin-bottom:20px}
.az-output-label{font-family:var(--az-mono);font-size:10px;color:var(--muted);text-transform:uppercase;letter-spacing:1.5px;margin-bottom:10px}
.az-output-pre{white-space:pre-wrap;font-family:var(--az-mono);font-size:13px;line-height:1.7;color:var(--text)}
.az-result-ts{font-size:11px;color:var(--muted)}
@media print{
  .az-no-print{display:none}
  body{background:#fff;color:#000}
  .az-output-box{border:none}
}
</style>
{% endblock %}

{% block content %}
<div class="az-result">
<div class="az-result-nav az-no-print">
  <a href="/">&larr; Home</a>
  <span class="rid">{{ result.request_id }}</span>
</div>

<h1>NTI Result</h1>
<div class="az-result-meta">
  Mode: <strong>{{ result.mode }}</strong> &middot;
  Input: <strong>{{ result.input_len }}</strong> chars &middot;
  Remaining: <strong>{{ result.remaining_runs }}</strong>
</div>

{% if email_status %}
<div class="az-email-status az-no-print">
  Email: {% if email_status.ok %}<span class="az-email-ok">sent</span>{% else %}<span class="az-email-fail">failed</span>{% endif %}
  <span>({{ email_status.message }})</span>
</div>
{% endif %}

<div class="az-result-actions az-no-print">
  <button class="az-btn-g" onclick="window.print()">Print / Save PDF</button>
  <button class="az-btn-g" onclick="navigator.clipboard.writeText(document.getElementById('out').innerText)">Copy output</button>
  <a href="/" class="az-btn-p">Run another</a>
</div>

<div class="az-output-box">
  <div class="az-output-label">Output</div>
  <pre id="out" class="az-output-pre">{{ result.nti_output }}</pre>
</div>

<div class="az-result-ts">{{ result.ts }}</div>
</div>
{% endblock %}
