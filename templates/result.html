<!-- =========================
FILE: templates/result.html
========================= -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Artifact Zero — Result</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @media print {
      .no-print { display: none !important; }
      body { background: #fff !important; color: #000 !important; }
      .print-box { border: none !important; }
      .mono { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; }
    }
  </style>
</head>
<body class="bg-zinc-950 text-zinc-100">
  <div class="max-w-4xl mx-auto px-6 py-10">
    <div class="flex items-center justify-between no-print">
      <a href="{{ base_url }}/" class="text-sm text-zinc-400 hover:text-zinc-200">← Home</a>
      <div class="text-xs text-zinc-500">request_id: {{ result.request_id }}</div>
    </div>

    <h1 class="mt-6 text-3xl font-semibold">NTI Result</h1>

    <div class="mt-3 text-sm text-zinc-400">
      Mode: <span class="text-zinc-200">{{ result.mode }}</span> ·
      Input length: <span class="text-zinc-200">{{ result.input_len }}</span> chars ·
      Remaining runs: <span class="text-zinc-200">{{ result.remaining_runs }}</span>
    </div>

    {% if email_status %}
      <div class="mt-4 no-print rounded-xl border border-zinc-800 bg-zinc-900/40 p-4 text-sm">
        Email: {% if email_status.ok %}<span class="text-emerald-300">sent</span>{% else %}<span class="text-red-300">failed</span>{% endif %}
        <span class="text-zinc-400">({{ email_status.message }})</span>
      </div>
    {% endif %}

    <div class="mt-6 no-print flex flex-wrap gap-2">
      <button onclick="window.print()"
              class="rounded-xl bg-white text-zinc-900 font-semibold px-4 py-2 hover:bg-zinc-200 transition">
        Print / Save PDF
      </button>
      <button onclick="navigator.clipboard.writeText(document.getElementById('out').innerText)"
              class="rounded-xl bg-zinc-800 text-zinc-100 px-4 py-2 hover:bg-zinc-700 transition">
        Copy output
      </button>
      <a href="{{ base_url }}/?ref=" class="rounded-xl bg-zinc-800 text-zinc-100 px-4 py-2 hover:bg-zinc-700 transition">
        Share link
      </a>
      <a href="{{ base_url }}/" class="rounded-xl bg-emerald-400 text-zinc-950 font-semibold px-4 py-2 hover:bg-emerald-300 transition">
        Run another
      </a>
    </div>

    <div class="mt-6 print-box rounded-2xl border border-zinc-800 bg-zinc-900/30 p-6">
      <div class="text-sm text-zinc-400">Output</div>
      <pre id="out" class="mt-3 whitespace-pre-wrap text-sm leading-relaxed mono">{{ result.nti_output }}</pre>
    </div>

    <div class="mt-8 text-xs text-zinc-600">
      Timestamp: {{ result.ts }}
    </div>
  </div>
</body>
</html>
