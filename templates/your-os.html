<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Your OS — Artifact Zero Labs</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700;800&family=Literata:ital,wght@0,400;0,600;0,700;1,400&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg:#060810;--surface:#0c0f18;--surface2:#121620;--surface3:#1a1f2e;
  --border:#1e2538;--border-b:#2e3650;
  --text:#e4e7f0;--dim:#8892a8;--muted:#5a6378;
  --green:#00e89c;--green-g:rgba(0,232,156,.10);
  --amber:#fbbf24;--red:#f87171;--blue:#60a5fa;
  --mono:'JetBrains Mono',monospace;--serif:'Literata',serif;--sans:'DM Sans',sans-serif;
}
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:var(--sans);-webkit-font-smoothing:antialiased;min-height:100vh}

/* Topbar */
.topbar{display:flex;align-items:center;justify-content:space-between;padding:16px 32px;border-bottom:1px solid var(--border);position:sticky;top:0;z-index:100;background:rgba(6,8,16,.94);backdrop-filter:blur(12px)}
.topbar-logo{font-family:var(--mono);font-size:12px;font-weight:700;color:var(--green);letter-spacing:3px;text-decoration:none}
.topbar-logo span{color:var(--muted);font-weight:400}
.topbar-nav{display:flex;gap:20px}
.topbar-nav a{font-family:var(--mono);font-size:10px;color:var(--muted);text-decoration:none;letter-spacing:1.5px;text-transform:uppercase;transition:color .2s}
.topbar-nav a:hover{color:var(--text)}
.topbar-live{display:flex;align-items:center;gap:6px}
.live-dot{width:6px;height:6px;border-radius:50%;background:var(--green);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.3}}

/* Hero */
.hero{max-width:680px;margin:0 auto;padding:100px 32px 60px;text-align:center}
.hero-badge{display:inline-block;font-family:var(--mono);font-size:10px;letter-spacing:3px;color:var(--green);border:1px solid rgba(0,232,156,.25);padding:5px 14px;border-radius:20px;margin-bottom:32px;text-transform:uppercase}
.hero h1{font-family:var(--serif);font-size:clamp(32px,5.5vw,52px);font-weight:700;line-height:1.15;margin-bottom:24px;color:var(--text)}
.hero h1 em{font-style:italic;color:var(--green)}
.hero-body{font-size:17px;color:var(--dim);line-height:1.7;max-width:540px;margin:0 auto 16px}
.hero-note{font-family:var(--mono);font-size:11px;color:var(--muted);letter-spacing:1px;margin-top:24px}

/* Two Doors */
.doors{max-width:720px;margin:0 auto;padding:0 32px 80px;display:grid;grid-template-columns:1fr 1fr;gap:20px}
.door{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:36px 28px;text-align:center;cursor:pointer;transition:all .25s;position:relative;overflow:hidden}
.door:hover{border-color:var(--green);transform:translateY(-3px);box-shadow:0 8px 40px rgba(0,232,156,.06)}
.door::before{content:'';position:absolute;top:0;left:0;right:0;height:2px;background:var(--green);transform:scaleX(0);transition:transform .3s;transform-origin:left}
.door:hover::before{transform:scaleX(1)}
.door-icon{font-size:32px;margin-bottom:16px;display:block}
.door h3{font-family:var(--mono);font-size:14px;font-weight:700;letter-spacing:1px;margin-bottom:10px}
.door p{font-size:14px;color:var(--dim);line-height:1.5}
.door-cta{display:inline-block;margin-top:20px;font-family:var(--mono);font-size:11px;color:var(--green);letter-spacing:1px;text-transform:uppercase;padding:8px 16px;border:1px solid rgba(0,232,156,.3);border-radius:6px;transition:all .2s}
.door:hover .door-cta{background:var(--green);color:var(--bg)}

/* Protocol Builder (same page, revealed after door choice) */
.builder{max-width:640px;margin:0 auto;padding:0 32px 80px;display:none}
.builder.visible{display:block}
.builder-header{text-align:center;margin-bottom:40px}
.builder-header h2{font-family:var(--serif);font-size:28px;font-weight:700;margin-bottom:8px}
.builder-header p{font-size:15px;color:var(--dim)}

.step-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:32px;margin-bottom:20px;display:none}
.step-card.active{display:block}
.step-num{font-family:var(--mono);font-size:10px;color:var(--green);letter-spacing:2px;margin-bottom:12px;text-transform:uppercase}
.step-card h3{font-size:18px;font-weight:600;margin-bottom:6px}
.step-card .step-desc{font-size:14px;color:var(--dim);margin-bottom:20px}

.form-group{margin-bottom:16px}
.form-group label{display:block;font-family:var(--mono);font-size:10px;font-weight:600;color:var(--dim);letter-spacing:1.5px;text-transform:uppercase;margin-bottom:6px}
.form-group input,.form-group textarea,.form-group select{width:100%;background:var(--surface2);border:1px solid var(--border);color:var(--text);padding:12px 14px;border-radius:8px;font-family:var(--sans);font-size:14px;outline:none;transition:border-color .2s}
.form-group input:focus,.form-group textarea:focus{border-color:var(--green)}
.form-group textarea{min-height:80px;resize:vertical;line-height:1.5}
.form-group .hint{font-size:12px;color:var(--muted);margin-top:4px}

.name-preview{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:20px;margin-top:16px;text-align:center}
.name-preview .os-name{font-family:var(--mono);font-size:32px;font-weight:800;color:var(--green);letter-spacing:4px}
.name-preview .os-full{font-size:13px;color:var(--dim);margin-top:4px}

.btn{font-family:var(--mono);font-size:13px;font-weight:700;padding:14px 28px;border-radius:8px;border:none;cursor:pointer;letter-spacing:1px;text-transform:uppercase;transition:all .2s}
.btn-primary{background:var(--green);color:var(--bg)}
.btn-primary:hover{background:#00ffaa;transform:translateY(-1px);box-shadow:0 4px 20px var(--green-g)}
.btn-ghost{background:transparent;color:var(--dim);border:1px solid var(--border)}
.btn-ghost:hover{border-color:var(--dim);color:var(--text)}
.btn-block{width:100%;text-align:center}

/* Protocol Preview */
.proto-preview{background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:20px;margin:20px 0;font-family:var(--mono);font-size:12px;line-height:1.7;color:var(--dim);max-height:360px;overflow-y:auto;white-space:pre-wrap}
.proto-preview .hl{color:var(--green);font-weight:700}
.proto-preview .rule{color:var(--amber)}

/* Enterprise Note */
.enterprise-note{max-width:640px;margin:0 auto;padding:0 32px 80px;text-align:center}
.enterprise-note .divider{width:40px;height:1px;background:var(--border);margin:0 auto 24px}
.enterprise-note p{font-size:14px;color:var(--muted);line-height:1.6;margin-bottom:8px}
.enterprise-note a{color:var(--green);text-decoration:none;font-family:var(--mono);font-size:12px;letter-spacing:1px}
.enterprise-note a:hover{text-decoration:underline}

/* Footer */
.footer{text-align:center;padding:40px 32px;border-top:1px solid var(--border);font-size:12px;color:var(--muted)}
.footer a{color:var(--green);text-decoration:none}

/* Trial counter */
.trial-counter{font-family:var(--mono);font-size:10px;color:var(--amber);letter-spacing:1px;text-align:center;padding:8px;background:rgba(251,191,36,.06);border-bottom:1px solid rgba(251,191,36,.1);display:none}
.trial-counter.visible{display:block}

@media(max-width:640px){
  .doors{grid-template-columns:1fr}
  .hero{padding:60px 20px 40px}
  .builder,.enterprise-note{padding-left:20px;padding-right:20px}
  .step-card{padding:24px 20px}
}
</style>
</head>
<body>

<div class="topbar">
  <a href="/" class="topbar-logo">ARTIFACT ZERO <span>/ YOUR OS</span></a>
  <div class="topbar-nav">
    <a href="/">HOME</a>
    <a href="/live">LIVE FEED</a>
    <div class="topbar-live"><span class="live-dot"></span></div>
  </div>
</div>

<!-- HERO -->
<div class="hero" id="heroSection">
  <div class="hero-badge">Governance Demo Environment</div>
  <h1>Build your own<br><em>operating system</em></h1>
  <p class="hero-body">Define five rules. Name your system. See what happens when AI is structurally governed instead of free-associating.</p>
  <p class="hero-body" style="font-size:14px;">This is a working demonstration of the NTI governance engine. The interface is a bridge. The engine is real.</p>
  <div class="hero-note">No account required. No credit card. Just build it.</div>
</div>

<!-- TWO DOORS -->
<div class="doors" id="doorsSection">
  <div class="door" onclick="choosePath('new')">
    <span class="door-icon">◇</span>
    <h3>New to AI</h3>
    <p>Never used ChatGPT or Claude before. Build your system, try it free — 5 messages on us.</p>
    <div class="door-cta">Start here →</div>
  </div>
  <div class="door" onclick="choosePath('existing')">
    <span class="door-icon">◆</span>
    <h3>I already use AI</h3>
    <p>You've used ChatGPT, Claude, or Gemini. See what changes when your AI has rules. 5 messages, free.</p>
    <div class="door-cta">Build your OS →</div>
  </div>
</div>

<!-- PROTOCOL BUILDER -->
<div class="builder" id="builderSection">
  <div class="builder-header">
    <h2>Five fields. Your rules.</h2>
    <p>These become a binding protocol enforced on every message.</p>
  </div>

  <!-- Step 1: Name -->
  <div class="step-card active" id="bStep1">
    <div class="step-num">Step 01 — Name</div>
    <h3>Name Your System</h3>
    <p class="step-desc">JOS was built by Jame. Yours gets your name.</p>
    <div class="form-group">
      <label>Your First Name</label>
      <input type="text" id="userName" placeholder="e.g. Sarah" oninput="updateOSName()">
    </div>
    <div class="form-group">
      <label>System Name</label>
      <input type="text" id="osName" placeholder="SOS" oninput="updatePreview()">
    </div>
    <div class="name-preview">
      <div class="os-name" id="osDisplay">_OS</div>
      <div class="os-full" id="osFullDisplay">Your Operating System</div>
    </div>
    <br>
    <button class="btn btn-primary btn-block" onclick="builderStep(2)">Next: Define your rules →</button>
  </div>

  <!-- Step 2: Protocol -->
  <div class="step-card" id="bStep2">
    <div class="step-num">Step 02 — Protocol</div>
    <h3>Define Your Rules</h3>
    <p class="step-desc">Five fields. These become law.</p>
    <div class="form-group">
      <label>Objective</label>
      <textarea id="josObj" placeholder="What is the single purpose? e.g. 'Execute my instructions exactly. No reinterpretation. No filler.'"></textarea>
      <div class="hint">One sentence. Frozen before every conversation.</div>
    </div>
    <div class="form-group">
      <label>Constraints</label>
      <textarea id="josCon" placeholder="One per line. e.g.&#10;No emojis&#10;No preamble&#10;Full code only"></textarea>
      <div class="hint">Rules the AI cannot break.</div>
    </div>
    <div class="form-group">
      <label>No-Go Zones</label>
      <textarea id="josNoGo" placeholder="What is banned? e.g.&#10;Never say 'Great question!'&#10;Never add disclaimers I didn't ask for"></textarea>
      <div class="hint">Things the AI must never do.</div>
    </div>
    <div class="form-group">
      <label>Definition of Done</label>
      <textarea id="josDone" placeholder="How does the AI know it's finished?"></textarea>
      <div class="hint">The stopping condition.</div>
    </div>
    <div class="form-group">
      <label>Closure Authority</label>
      <select id="josClosure">
        <option value="you">You — the human decides when done</option>
        <option value="system">System — closes when definition met</option>
        <option value="both">Both — either can close</option>
      </select>
    </div>
    <br>
    <div style="display:flex;gap:12px">
      <button class="btn btn-ghost" onclick="builderStep(1)">← Back</button>
      <button class="btn btn-primary" style="flex:1" onclick="builderStep(3)">Next: Preview →</button>
    </div>
  </div>

  <!-- Step 3: Preview + Launch -->
  <div class="step-card" id="bStep3">
    <div class="step-num">Step 03 — Review</div>
    <h3>Your System Prompt</h3>
    <p class="step-desc">This gets injected before every message. Review it, then try it live.</p>
    <div class="proto-preview" id="protoPreview"></div>
    <br>
    <div id="keySection" style="display:none;margin-bottom:20px;">
      <div class="form-group">
        <label>Your API Key</label>
        <input type="password" id="userApiKey" placeholder="sk-... or sk-ant-...">
        <div class="hint">OpenAI, Anthropic, or Google key. Encrypted in transit. Never stored permanently.</div>
      </div>
      <div class="form-group">
        <label>Provider</label>
        <select id="userProvider">
          <option value="openai">OpenAI (ChatGPT)</option>
          <option value="anthropic">Anthropic (Claude)</option>
          <option value="google">Google (Gemini)</option>
        </select>
      </div>
    </div>
    <div style="display:flex;gap:12px">
      <button class="btn btn-ghost" onclick="builderStep(2)">← Edit</button>
      <button class="btn btn-primary" style="flex:1" onclick="launchOS()" id="launchBtn">Launch your OS →</button>
    </div>
  </div>
</div>

<!-- Enterprise Note -->
<div class="enterprise-note" id="enterpriseNote">
  <div class="divider"></div>
  <p>This is a working demonstration of the NTI governance engine.</p>
  <p>The structural analysis is real. The protocol enforcement is real. The scoring is real.</p>
  <p style="margin-top:16px;color:var(--dim);">When your team is ready for enterprise deployment, we're here.</p>
  <a href="mailto:jame@dontgofulltilt.com" style="display:inline-block;margin-top:16px;">CONTACT ARTIFACT ZERO LABS →</a>
</div>

<div class="footer">
  <p>Built by <a href="/">Artifact Zero Labs</a> — Knoxville, TN</p>
  <p style="margin-top:4px">Rule-based structural analysis. Zero LLM dependency in the engine.</p>
</div>

<script>
let userPath = null; // 'new' or 'existing'
let osProtocol = null;

function choosePath(path) {
  userPath = path;
  document.getElementById('heroSection').style.display = 'none';
  document.getElementById('doorsSection').style.display = 'none';
  document.getElementById('enterpriseNote').style.display = 'none';
  document.getElementById('builderSection').classList.add('visible');

  // Both paths start with free trial — no key needed yet
  document.getElementById('keySection').style.display = 'none';

  window.scrollTo({top:0, behavior:'smooth'});
}

function updateOSName() {
  const name = document.getElementById('userName').value.trim();
  if (name.length > 0) {
    document.getElementById('osName').value = name.charAt(0).toUpperCase() + 'OS';
    updatePreview();
  }
}

function updatePreview() {
  const osName = document.getElementById('osName').value.trim() || '_OS';
  const userName = document.getElementById('userName').value.trim() || 'You';
  document.getElementById('osDisplay').textContent = osName;
  document.getElementById('osFullDisplay').textContent = userName + "'s Operating System";
}

function builderStep(n) {
  document.querySelectorAll('.step-card').forEach(s => {s.classList.remove('active');s.style.display='none'});
  const step = document.getElementById('bStep' + n);
  step.style.display = 'block';
  step.classList.add('active');
  step.scrollIntoView({behavior:'smooth',block:'start'});

  if (n === 3) buildProtoPreview();
}

function buildProtoPreview() {
  const osName = document.getElementById('osName').value.trim() || '_OS';
  const userName = document.getElementById('userName').value.trim() || 'User';
  const obj = document.getElementById('josObj').value.trim();
  const con = document.getElementById('josCon').value.trim();
  const noGo = document.getElementById('josNoGo').value.trim();
  const done = document.getElementById('josDone').value.trim();
  const closure = document.getElementById('josClosure').value;
  const closureMap = {
    'you': userName + ' (the human) decides when done.',
    'system': 'System closes when definition of done is met.',
    'both': 'Either ' + userName + ' or the system can close.'
  };

  let html = '';
  html += `<span class="rule">## ${osName} — ${userName}'s Operating System</span>\n`;
  html += `<span class="rule">## Enforcement: Binding. No bypasses.</span>\n\n`;
  html += `<span class="hl">OBJECTIVE:</span>\n${obj || '[not set]'}\n\n`;
  html += `<span class="hl">CONSTRAINTS:</span>\n`;
  if (con) con.split('\n').filter(l=>l.trim()).forEach(l => { html += `— ${l.trim()}\n`; });
  else html += '[not set]\n';
  html += `\n<span class="hl">NO-GO ZONES:</span>\n`;
  if (noGo) noGo.split('\n').filter(l=>l.trim()).forEach(l => { html += `✗ ${l.trim()}\n`; });
  else html += '[not set]\n';
  html += `\n<span class="hl">DEFINITION OF DONE:</span>\n${done || '[not set]'}\n\n`;
  html += `<span class="hl">CLOSURE AUTHORITY:</span>\n${closureMap[closure]}\n\n`;
  html += `<span class="rule">## BINDING CONTRACT</span>\n`;
  html += `1. Objective is frozen before execution begins.\n`;
  html += `2. Emotion may be acknowledged, never executed.\n`;
  html += `3. Constraints cannot be deleted; only appended.\n`;
  html += `4. If ambiguity exists, request clarification.\n`;

  document.getElementById('protoPreview').innerHTML = html;

  // Store protocol for passing to chat
  osProtocol = {
    os_name: osName,
    user_name: userName,
    objective: obj,
    constraints: con,
    no_go_zones: noGo,
    definition_of_done: done,
    closure_authority: closure
  };
}

function getPlainProtocol() {
  if (!osProtocol) return '';
  const p = osProtocol;
  const closureMap = {
    'you': p.user_name + ' decides when done.',
    'system': 'System closes when definition met.',
    'both': 'Either can close.'
  };
  let text = `## ${p.os_name} — ${p.user_name}'s Operating System\n`;
  text += `## Enforcement: Binding. No bypasses.\n\n`;
  text += `OBJECTIVE:\n${p.objective || '[not set]'}\n\n`;
  text += `CONSTRAINTS:\n`;
  if (p.constraints) p.constraints.split('\n').filter(l=>l.trim()).forEach(l => { text += `— ${l.trim()}\n`; });
  text += `\nNO-GO ZONES:\n`;
  if (p.no_go_zones) p.no_go_zones.split('\n').filter(l=>l.trim()).forEach(l => { text += `✗ ${l.trim()}\n`; });
  text += `\nDEFINITION OF DONE:\n${p.definition_of_done || '[not set]'}\n\n`;
  text += `CLOSURE AUTHORITY:\n${closureMap[p.closure_authority] || 'Human'}\n\n`;
  text += `## BINDING CONTRACT\n1. Objective frozen before execution.\n2. Emotion acknowledged, never executed.\n3. Constraints append-only.\n4. Ambiguity triggers clarification.\n`;
  return text;
}

function launchOS() {
  if (!osProtocol) { builderStep(1); return; }

  // Both paths go straight to app — free trial, no key needed
  const params = new URLSearchParams();
  params.set('os', JSON.stringify(osProtocol));
  params.set('path', userPath);

  window.location.href = '/your-os/app?' + params.toString();
}
</script>
<script src="/static/az-nav.js"></script>

<script src="/static/az-shell.js"></script>
</body>
</html>
